<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Auction Demo</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">

  <!-- Minimal styling -->
  <style>
    :root {
      --accent: #1976d2;
      --bg: #f4f6f9;
      --card: #ffffff;
      --text-dark: #111;
      --text-light: #ffffff;
      --error: #d32f2f;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0
    }

    body {
      font: 16px/1.45 Arial, Helvetica, sans-serif;
      background: var(--bg);
      color: var(--text-dark)
    }

    header {
      display: flex;
      align-items: center;
      gap: .5rem;
      padding: .6rem 1rem;
      background: var(--text-dark);
      color: var(--text-light)
    }

    main {
      max-width: 880px;
      margin: 2rem auto;
      padding: 1.6rem;
      border-radius: 8px;
      background: var(--card);
      box-shadow: 0 2px 4px rgba(0, 0, 0, .08)
    }

    h2 {
      margin-top: 1.6rem;
      font-size: 1.15rem
    }

    label {
      display: block;
      margin-top: 1rem;
      font-weight: 600
    }

    input,
    button {
      font: inherit
    }

    input[type=text],
    input[type=number],
    input[type=datetime-local] {
      width: 100%;
      padding: .5rem;
      border: 1px solid #ccc;
      border-radius: 4px;
      margin-top: .35rem
    }

    button {
      type: button;
      margin-top: 1rem;
      padding: .55rem 1.1rem;
      border: 0;
      border-radius: 4px;
      background: var(--accent);
      color: #fff;
      font-weight: 600;
      cursor: pointer;
      transition: opacity .15s
    }

    button:disabled {
      opacity: .55;
      cursor: not-allowed
    }

    #status {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      margin-top: .8rem;
      font-size: .95rem
    }

    #status div {
      min-width: 130px
    }

    #events {
      height: 220px;
      overflow-y: auto;
      border: 1px solid #ddd;
      border-radius: 4px;
      background: #fafafa;
      padding: .6rem;
      margin-top: .8rem;
      font: 14px/1.35 monospace
    }

    #events:focus {
      outline: 2px dashed var(--accent);
      outline-offset: 4px
    }

    #error {
      color: var(--error);
      margin-top: .6rem;
      min-height: 1.2rem
    }

    table {
      border-collapse: collapse;
      margin-top: .8rem;
      width: 100%
    }

    th,
    td {
      border-bottom: 1px solid #ddd;
      padding: .4rem .6rem;
      text-align: left
    }

    tr:hover {
      background: #f1f3f5;
      cursor: pointer
    }
  </style>
</head>

<body>
  <header>
    <h1>Auction Demo</h1>
  </header>

  <main>
    <!-- Connect -->
    <section id="connect-section">
      <label> Auction ID
        <input id="auctionIdInput" type="text" placeholder="auc123" required aria-label="Auction ID">
      </label>
      <button id="connectBtn" type="button">Connect</button>
    </section>

    <!-- Status -->
    <section id="status-section" hidden>
      <h2>Status</h2>
      <div id="status">
        <div id="connStatus">WS: —</div>
        <div>Ends&nbsp;at: <span id="endsAt">—</span></div>
        <div>Highest&nbsp;bid: <span id="highBid">0</span></div>
        <div>Highest&nbsp;bidder: <span id="highBidder">—</span></div>
        <div>State: <span id="state">—</span></div>
        <div>⏳ Time left: <span id="timeLeft">—</span></div>
      </div>
    </section>

    <!-- Manage -->
    <section id="manage-section" hidden>
      <h2>Manage</h2>
      <button id="startBtn" type="button">Start auction</button>
      <button id="stopBtn" type="button">Stop auction</button>
    </section>



    <!-- Bid -->
    <section id="bid-section" hidden>
      <h2>Place bid</h2>
      <label> Bidder ID
        <input id="bidderIdInput" type="text" placeholder="user123" required aria-label="Bidder ID">
      </label>
      <label> Amount
        <input id="amountInput" type="number" min="0" step="any" placeholder="10" required aria-label="Bid amount">
      </label>
      <button id="bidBtn" type="button">Submit bid</button>
      <div id="error" role="alert"></div>
    </section>

    <!-- Events -->
    <section id="events-section" hidden>
      <h2>Events</h2>
      <div id="events" tabindex="0" role="log" aria-live="polite"></div>
    </section>

    <!-- List -->
    <section id="list-section">
      <h2>Auctions List (not updated in realtime)</h2>
      <button id="refreshBtn" type="button">Refresh list</button>
      <table id="listTbl" aria-label="Running auctions">
        <thead>
          <tr>
            <th>ID</th>
            <th>High Bid</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>
  </main>

  <script src="/script.js" defer></script>
</body>

</html>